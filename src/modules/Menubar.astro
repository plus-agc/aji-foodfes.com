---
import MenubarScript from "../scripts/Menubar.js?url";
---

<div class="nav">
  <div id="nav_toggle">
    <div>
      <span></span>
      <span></span>
    </div>
  </div>
</div>
<nav>
  <ul>
    <li><a href="/"><span>トップ</span></a></li>
    <li><a href="/#food"><span>フード</span></a></li>
    <li><a href="/#stage"><span>ステージイベント</span></a></li>
    <li><a href="/#experience"><span>体験コーナー</span></a></li>
    <li><a href="/#rogaining"><span>ロゲイニングイベント</span></a></li>
    <li><a href="/#access"><span>アクセス</span></a></li>
  </ul>
</nav>

<style is:inline>
  /*hamburger menu style*/
  /* hamburger toggle (SP): fixed and high-contrast */
  #nav_toggle {
    position: fixed;
    top: max(12px, env(safe-area-inset-top));
    right: max(12px, env(safe-area-inset-right));
    z-index: 1000;
  }
  #nav_toggle div {
    position: relative;
    display: grid;
    place-items: center;
    width: 44px;
    height: 44px;
    border-radius: 999px;
    background: rgba(64, 34, 15, 0.95);
    box-shadow: 0 6px 18px rgba(0, 0, 0, 0.25);
    backdrop-filter: saturate(160%) blur(6px);
  }
  #nav_toggle span {
    position: absolute;
    left: 50%;
    top: 50%;
    width: 22px;
    height: 2.5px;
    background: #fff;
    border-radius: 2px;
    transition: transform 0.35s ease, opacity 0.25s ease, top 0.35s ease;
  }
  /* closed state: two lines */
  #nav_toggle span:nth-child(1) { transform: translate(-50%, -6px); }
  #nav_toggle span:nth-child(2) { transform: translate(-50%, 6px); }
  /* open -> X */
  .open #nav_toggle span:nth-child(1) {
    transform: translate(-50%, -50%) rotate(45deg);
  }
  .open #nav_toggle span:nth-child(2) {
    transform: translate(-50%, -50%) rotate(-45deg);
  }
  .open #nav_toggle div {
    background: rgba(230, 0, 18, 0.95);
  }
  /*nav style*/
  nav {
    position: fixed;
    inset: 0;
    width: 100vw;
    height: 100vh;
    opacity: 0;
    z-index: -1;
    transform: translateY(-8px) scale(0.98);
    transition: 0.35s ease;
    background-color: rgba(255, 255, 255, 0.96);
    backdrop-filter: saturate(160%) blur(8px);
  }
  /*nav list style*/
  nav ul {
    list-style-type: none;
    padding: 2em;
  }
  nav ul li {
    border-bottom: 1px solid rgba(255, 255, 255, 0.15);
  }
  /*nav link style*/
  nav ul li a {
    padding: 1.5em 0;
    display: block;
    text-decoration: none;
    font-size: clamp(20px, 2.5vw, 5vw);
    font-weight: 300;
    color: #000;
    transition: 0.5s;
  }
  nav ul li a:hover {
    padding: 1.5em 1em;
    opacity: 0.5;
    transition: 0.5s;
  }
  nav ul li:last-child {
    border: none;
  }
  .add_nav {
    display: block;
    opacity: 1;
    z-index: 999;
    transform: none;
    transition: 0.35s ease;
  }
  .container {
    position: relative;
  }
  .add_container {
    -webkit-filter: blur(8px);
    -moz-filter: blur(8px);
    -o-filter: blur(8px);
    -ms-filter: blur(8px);
    filter: blur(8px);
    transition: 0.5s;
  }

  /* Desktop (PC) layout: top menubar */
  @media (min-width: 900px) {
    /* hide hamburger icon */
    #nav_toggle {
      display: none;
    }

    /* show nav as top bar */
    nav {
      position: sticky;
      top: 0;
      opacity: 1;
      z-index: 100;
      transform: none;
      height: auto;
      background-color: rgba(255, 255, 255, 0.9);
      backdrop-filter: saturate(180%) blur(8px);
      border-bottom: 1px solid rgba(0, 0, 0, 0.06);
    }

    nav ul {
      display: flex;
      gap: 16px;
      align-items: center;
      justify-content: center;
      padding: 12px 24px;
      margin: 0;
    }

    nav ul li {
      border: none;
    }

    nav ul li a {
      padding: 8px 12px;
      font-size: 16px;
      color: #40220f;
      border-radius: 8px;
    }

    nav ul li a:hover {
      padding: 8px 12px;
      opacity: 1;
      background: rgba(0, 0, 0, 0.06);
    }

    /* avoid blurring the page on desktop */
    .add_container {
      filter: none;
    }
  }
</style>

<script src={MenubarScript}></script>

---
import Layout from "../layouts/Layout.astro";
import { Image } from "astro:assets";
import Mainimage from "../images/2025/main-image.webp";
import FooterDesc from "../images/footer__image.svg";
import Menubar from "../modules/Menubar.astro";
import Decoration1 from "../images/2025/decoration_1.svg";
import Decoration2 from "../images/2025/decoration_2.svg";
import Decoration3 from "../images/2025/decoration_3.svg";
import Decoration4 from "../images/2025/decoration_4.svg";
import Abekouji from "../images/2025/abekouji.webp";
import AbekoujiTitle from "../images/2025/abekouji_title.svg";
import Abakouji from "../images/2025/abakouji.webp";
import RingomusumeTitle from "../images/2025/ringomusume_title.svg";
import Ringomusume from "../images/2025/ringomusume.webp";
import OpeningCeremony from "../images/2025/opening_ceremony.svg";
import Header__titleDesk from "../images/header__title-desc.svg";
import TabComponent from "../modules/TabComponent.astro";
import FoodTitle from "../images/2025/food_title.svg";
---

<Layout title="あじがさわフードフェス2024">
  <Menubar />
  <header class="header">
    <div class="header__image">
      <Image
        src={Mainimage}
        alt="あじがさわフードフェス2025 メインビジュアル"
      />
    </div>
  </header>
  <main>
    <div class="container-fluid">
      <p class="header__title-desc">
        <Image
          src={Header__titleDesk}
          alt="鯵ヶ沢町の3大食イベント春の「ヒラメフェス」夏の「肉のフェスティバル」秋の「スイーツフェス」を一堂に会した「食」盛り沢山に開催！"
        />
      </p>
      <div class="food__title">
        <Image src={FoodTitle} alt="お肉・スイーツなど28店集結!!" />
      </div>
      <TabComponent />

      <!-- ステージイベントセクション -->
      <div class="stage-events">
        <!-- 背景装飾（紙吹雪） -->
        <div class="stage-events__decorations">
          <div class="decoration decoration--1">
            <Image src={Decoration1} alt="装飾1" />
          </div>
          <div class="decoration decoration--2">
            <Image src={Decoration2} alt="装飾2" />
          </div>
          <div class="decoration decoration--3">
            <Image src={Decoration3} alt="装飾3" />
          </div>
          <div class="decoration decoration--4">
            <Image src={Decoration4} alt="装飾4" />
          </div>
          <div class="decoration decoration--5">
            <Image src={Decoration1} alt="装飾5" />
          </div>
          <div class="decoration decoration--6">
            <Image src={Decoration2} alt="装飾6" />
          </div>
          <div class="decoration decoration--7">
            <Image src={Decoration3} alt="装飾7" />
          </div>
          <div class="decoration decoration--8">
            <Image src={Decoration4} alt="装飾8" />
          </div>
        </div>

        <div class="stage-events__title">
          <h2>ステージイベント</h2>
        </div>
        <div class="stage-events__content">
          <div class="stage-event">
            <div class="event-content">
              <div class="opening-ceremony-image">
                <Image src={OpeningCeremony} alt="オープニングセレモニー" />
              </div>
            </div>
          </div>
          <div class="stage-event">
            <div class="event-content">
              <div class="abekouji-content">
                <div class="abekouji-title">
                  <Image src={AbekoujiTitle} alt="あべこうじトークショー" />
                </div>
                <div class="abekouji-image">
                  <Image src={Abakouji} alt="あべこうじ" />
                </div>
              </div>
            </div>
          </div>
          <div class="stage-event">
            <div class="event-content">
              <div class="ringomusume-content">
                <div class="ringomusume-title">
                  <Image src={RingomusumeTitle} alt="りんご娘" />
                </div>
                <div class="ringomusume-image">
                  <Image src={Ringomusume} alt="りんご娘" />
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- 体験コーナーセクション -->
    <div class="experience-corner">
      <!-- 背景装飾（紙吹雪） -->
      <div class="experience-corner__decorations">
        <div class="decoration decoration--1">
          <Image src={Decoration1} alt="装飾1" />
        </div>
        <div class="decoration decoration--2">
          <Image src={Decoration2} alt="装飾2" />
        </div>
        <div class="decoration decoration--3">
          <Image src={Decoration3} alt="装飾3" />
        </div>
        <div class="decoration decoration--4">
          <Image src={Decoration4} alt="装飾4" />
        </div>
        <div class="decoration decoration--5">
          <Image src={Decoration1} alt="装飾5" />
        </div>
        <div class="decoration decoration--6">
          <Image src={Decoration2} alt="装飾6" />
        </div>
        <div class="decoration decoration--7">
          <Image src={Decoration3} alt="装飾7" />
        </div>
        <div class="decoration decoration--8">
          <Image src={Decoration4} alt="装飾8" />
        </div>
      </div>

      <div class="experience-corner__title">
        <h2>体験コーナー</h2>
      </div>
      <div class="experience-corner__content">
        <div class="experience-item">
          <div class="event-content">
            <div class="experience-banner">
              <h3>アートバルーンでお魚をつくろう！</h3>
              <p class="experience-type">アートバルーン体験</p>
              <div class="status">準備中</div>
            </div>
          </div>
        </div>
        <div class="experience-item">
          <div class="event-content">
            <div class="experience-banner">
              <h3>ジャージー牛乳でバター作り体験</h3>
              <p class="experience-type">バター作り体験</p>
              <div class="status">準備中</div>
            </div>
          </div>
        </div>
        <div class="experience-item">
          <div class="event-content">
            <div class="experience-banner">
              <h3>鰺ヶ沢町のお魚を磁石で釣ろう！</h3>
              <p class="experience-type">磁石釣り体験</p>
              <div class="status">準備中</div>
            </div>
          </div>
        </div>
        <div class="experience-item">
          <div class="event-content">
            <div class="experience-banner">
              <h3>デジタル抽選会</h3>
              <p class="experience-type">抽選会</p>
              <div class="status">準備中</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <footer>
      <div class="footer__image">
        <div class="forward">
          <Image src={FooterDesc} alt="概要欄" />
        </div>
      </div>
    </footer>
  </main>
  <style lang="scss">
    // 変数定義
    $primary-color: #0047ba;
    $white: #fff;
    $grey: #dce7eb;
    $red: #ff6873;
    $mobile-breakpoint: 599px;
    $tablet-breakpoint: 900px;

    :root {
      --blue: #0b318f;
      --green: #006934;
      --orange: #f08d08;
      --beige: #b28247;
      --pink: #ee8485;
      --red: #e60012;
    }

    // ミックスイン
    @mixin mobile {
      @media (max-width: $mobile-breakpoint) {
        @content;
      }
    }
    @mixin tablet {
      @media (min-width: $mobile-breakpoint + 1) and (max-width: $tablet-breakpoint - 1) {
        @content;
      }
    }
    @mixin desktop {
      @media (min-width: $tablet-breakpoint) {
        @content;
      }
    }
    @mixin responsive-font($desktop-size, $mobile-size) {
      font-size: $desktop-size;
      @include mobile {
        font-size: $mobile-size;
      }
    }

    // プレースホルダーセレクタ
    %centered-content {
      max-width: 95%;
      margin: 0 auto;
    }
    %transition {
      transition: all 0.25s ease-in-out;
    }
    %no-select {
      -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
      -webkit-touch-callout: none;
      user-select: none;
    }
    %flipIn {
      animation: flipdown 0.5s ease both;
    }

    // 色定義
    $colors: (
      "lightblue": #fffcd2,
      "brown": #510102,
      "pink": #feb3d2,
      "teal": #a0d9f3,
      "lightteal": #c0e9e5,
      "red": #ff0000,
      "white": #fff,
    );

    @each $name, $color in $colors {
      .bg-#{$name} {
        background-color: $color;
      }
    }

    // 共通スタイル
    header,
    main,
    footer {
      background-color: #fff18a;
    }
    header {
      position: relative;
      z-index: 1;
    }
    main {
      padding: clamp(1rem, 0.8rem + 1vw, 4rem);
      @include mobile {
        margin-bottom: 50px;
      }
    }

    /* ステージイベントセクション */
    .stage-events {
      width: 100%;
      padding: 3rem 0;
      background-color: #fff;
      margin: 2rem 0;
      position: relative;
      overflow: hidden;
    }

    /* 背景装飾（紙吹雪） */
    .stage-events__decorations {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 1;
    }

    .decoration {
      position: absolute;
      opacity: 0.6;
      z-index: 1;
    }

    .decoration img {
      width: 40px;
      height: 40px;
      opacity: 0.8;
    }

    .decoration--1 {
      top: 10%;
      left: 5%;
      transform: rotate(15deg);
    }

    .decoration--2 {
      top: 20%;
      right: 10%;
      transform: rotate(-20deg);
    }

    .decoration--3 {
      top: 40%;
      left: 15%;
      transform: rotate(45deg);
    }

    .decoration--4 {
      top: 30%;
      right: 20%;
      transform: rotate(-30deg);
    }

    .decoration--5 {
      top: 60%;
      left: 8%;
      transform: rotate(60deg);
    }

    .decoration--6 {
      top: 70%;
      right: 15%;
      transform: rotate(-15deg);
    }

    .decoration--7 {
      top: 80%;
      left: 25%;
      transform: rotate(25deg);
    }

    .decoration--8 {
      top: 50%;
      right: 5%;
      transform: rotate(-45deg);
    }

    .stage-events__title {
      width: 100%;
      text-align: center;
      margin-bottom: 3rem;
      position: relative;
      z-index: 2;
    }

    .stage-events__title h2 {
      font-size: 2.5rem;
      color: #40220f;
      font-family: "lanove", Arial, sans-serif;
      margin: 0;
      font-weight: bold;
    }

    .stage-events__content {
      display: flex;
      flex-direction: column;
      gap: 2rem;
      max-width: 800px;
      margin: 0 auto;
      padding: 0 2rem;
      position: relative;
      z-index: 2;
    }

    .stage-event {
      width: 100%;
    }

    .stage-event {
      text-align: center;
      padding: 2rem;
      transition: transform 0.3s ease;
      position: relative;
      border-left: 4px solid #e60012;
      margin-left: 2rem;
      background: linear-gradient(135deg, #fff 0%, #f8f9fa 100%);
      border-radius: 0 12px 12px 0;
    }

    .stage-event:hover {
      transform: translateY(-5px);
    }

    .stage-event h3 {
      font-size: 1.5rem;
      color: #40220f;
      font-family: "lanove", Arial, sans-serif;
      margin: 0 0 1rem 0;
      font-weight: bold;
    }

    .event-content {
      color: #666;
      font-size: 1rem;
      line-height: 1.6;
    }

    /* オープニングセレモニーのスタイリング */
    .event-banner {
      position: relative;
      background-color: #e60012;
      border-radius: 8px;
      padding: 1.5rem;
      margin: 1rem 0;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
      transform: rotate(-2deg);
    }

    .event-time {
      position: absolute;
      top: -10px;
      left: -10px;
      background-color: #000;
      color: #fff;
      padding: 0.5rem 1rem;
      border-radius: 20px;
      font-weight: bold;
      font-size: 1.1rem;
      z-index: 3;
    }

    .event-main {
      text-align: center;
      color: #fff;
    }

    .event-main h4 {
      font-size: 1.8rem;
      font-weight: bold;
      margin: 0 0 1rem 0;
      color: #fff;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
    }

    .performer {
      font-size: 1.2rem;
      font-weight: bold;
      margin: 0.5rem 0;
      color: #fff;
      text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
    }

    .performance-type {
      font-size: 1rem;
      margin: 0.5rem 0 0 0;
      color: #fff;
      text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
      opacity: 0.9;
    }

    /* あべこうじトークショー用のスタイリング */
    .abekouji-content {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 1.5rem;
    }

    .abekouji-title {
      width: 100%;
      text-align: center;
    }

    .abekouji-title img {
      width: 85%;
      height: auto;
    }

    .abekouji-image {
      width: 100%;
      text-align: center;
    }

    .abekouji-image img {
      width: 100%;
      height: auto;
    }

    /* りんご娘コンテンツのスタイリング */
    .ringomusume-content {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 1.5rem;
    }

    .ringomusume-title {
      width: 100%;
      text-align: center;
    }

    .ringomusume-title img {
      width: 100%;
      height: auto;
    }

    .ringomusume-image {
      width: 100%;
      text-align: center;
    }

    .ringomusume-image img {
      width: 100%;
      height: auto;
    }

    /* オープニングセレモニー画像のスタイリング */
    .opening-ceremony-image {
      width: 100%;
      text-align: center;
    }

    .opening-ceremony-image img {
      width: 100%;
      height: auto;
      border-radius: 8px;
    }

    /* ステージイベントのレスポンシブ対応 */
    @include tablet {
      .stage-events__content {
        gap: 1.5rem;
        padding: 0 1.5rem;
        max-width: 700px;
      }

      .stage-events__title h2 {
        font-size: 2rem;
      }

      .stage-event h3 {
        font-size: 1.3rem;
      }
    }

    @include mobile {
      .stage-events__content {
        gap: 1rem;
        padding: 0 1rem;
        max-width: 100%;
      }

      .stage-events__title h2 {
        font-size: 1.8rem;
      }

      .stage-event h3 {
        font-size: 1.2rem;
      }

      .stage-events {
        padding: 2rem 0;
        margin: 1rem 0;
      }

      .stage-event {
        margin-left: 1rem;
      }

      .stage-event::before {
        left: -1.5rem;
      }

      .stage-event::after {
        left: -1rem;
      }
    }

    /* 体験コーナーセクション */
    .experience-corner {
      width: 100%;
      padding: 3rem 0;
      background-color: #fff;
      margin: 2rem 0;
      position: relative;
      overflow: hidden;
    }

    .experience-corner__title {
      width: 100%;
      text-align: center;
      margin-bottom: 3rem;
      position: relative;
      z-index: 2;
    }

    .experience-corner__title h2 {
      font-size: 2.5rem;
      color: #40220f;
      font-family: "lanove", Arial, sans-serif;
      margin: 0;
      font-weight: bold;
    }

    .experience-corner__content {
      display: flex;
      flex-direction: column;
      gap: 2rem;
      max-width: 800px;
      margin: 0 auto;
      padding: 0 2rem;
      position: relative;
      z-index: 2;
    }

    .experience-item {
      width: 100%;
    }

    .experience-banner {
      position: relative;
      background-color: #e60012;
      border-radius: 8px;
      padding: 2rem;
      margin: 1rem 0;
      text-align: center;
      color: #fff;
    }

    .experience-banner h3 {
      font-size: 1.5rem;
      font-weight: bold;
      margin: 0 0 1rem 0;
      color: #fff;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
    }

    .experience-type {
      font-size: 1.2rem;
      margin: 0.5rem 0;
      color: #fff;
      text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.5);
      opacity: 0.9;
    }

    .status {
      display: inline-block;
      background-color: #fff;
      color: #e60012;
      padding: 0.5rem 1.5rem;
      border-radius: 20px;
      font-weight: bold;
      font-size: 1rem;
      margin-top: 1rem;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
    }

    /* 体験コーナーのレスポンシブ対応 */
    @include tablet {
      .experience-corner__content {
        gap: 1.5rem;
        padding: 0 1.5rem;
        max-width: 700px;
      }

      .experience-corner__title h2 {
        font-size: 2rem;
      }

      .experience-banner h3 {
        font-size: 1.3rem;
      }
    }

    @include mobile {
      .experience-corner__content {
        gap: 1rem;
        padding: 0 1rem;
        max-width: 100%;
      }

      .experience-corner__title h2 {
        font-size: 1.8rem;
      }

      .experience-banner h3 {
        font-size: 1.2rem;
      }

      .experience-corner {
        padding: 2rem 0;
        margin: 1rem 0;
      }
    }
    .container {
      max-width: 1440px;
      margin: 0 auto;
    }
    .container-fluid {
      max-width: 1440px;
      margin: 0 auto;
      padding: 0 clamp(1rem, 0.8rem + 1vw, 2rem);
    }
    .header__image {
      max-width: 100%;
      margin: 0 auto;
      position: relative;
      z-index: 1;
      .back {
        position: relative;
        z-index: 1;
      }
      .forward {
        position: absolute;
        bottom: -1rem;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 90%;
        height: auto;
        z-index: 3;
      }
      img {
        width: 100%;
        height: auto;
      }
    }
    .header__title {
      background-color: #330001;
      position: relative;
      padding: 5rem 5rem 1rem 5rem;
      z-index: 2;
      margin-top: -7rem;
      img {
        width: 100%;
        height: auto;
      }
      .header__title-text {
        width: 100%;
        height: auto;
        margin-top: -20rem;
      }
    }
    .main__desc {
      width: 100%;
      margin: 0 auto;
      img {
        width: 100%;
        height: auto;
      }
    }
    .footer__image {
      background-size: cover;
      background-position: bottom 400px;

      img {
        width: 100% !important;
        height: auto !important;
      }
    }
    .pc {
      display: none;
      @include tablet {
        display: block;
      }
    }
    .sp {
      display: none;
      @include mobile {
        display: block;
      }
      img {
        width: 100%;
        height: auto;
      }
    }
    h1 {
      font-size: clamp(1.125rem, 0.627rem + 2.03vw, 2.25rem);
      text-align: center;
      background-color: #e60012;
      color: #fff;
      margin-bottom: 5rem;
      width: fit-content;
      padding: 16px 32px;
      margin: 0 auto;
      border-radius: 16px;
    }
    // ドロップダウン
    .drpdwn {
      width: 100%;
      list-style: none;
      perspective: 900px;
      padding: 0;
      overflow: hidden;
      margin: 0 auto;

      h2 {
        span {
          img {
            width: clamp(80%, 80%, 80%);
            display: block;
            margin: 0 0 0 auto;
          }
        }
      }

      div {
        display: flex;
        flex-wrap: wrap;
        gap: clamp(8px, 16px, 24px);

        p {
          flex: 1;
          img {
            width: 100%;
            height: auto;
          }
        }
      }

      @include desktop {
        div p {
          flex: 0 0 calc(33.33% - 24px);
        }
      }

      @include tablet {
        div p {
          flex: 0 0 calc(50% - 16px);
        }
      }

      @include mobile {
        div p {
          flex: 0 0 100%;
        }
      }

      li {
        position: relative;
        padding: 0 0 4px;
        margin: 0;
        @extend %flipIn;

        @for $i from 1 through 3 {
          &:nth-of-type(#{$i}) {
            animation-delay: #{0.25 + $i * 0.25}s;
          }
        }

        &:last-of-type {
          padding-bottom: 0;
        }

        i {
          position: absolute;
          transform: translate(-6px, 0);
          margin-top: 16px;
          right: 0;

          &::before,
          &::after {
            content: "";
            @extend %transition;
            position: absolute;
            background-color: $red;
            width: 3px;
            height: 9px;
          }

          &::before {
            transform: translate(-2px, 0) rotate(45deg);
          }
          &::after {
            transform: translate(2px, 0) rotate(-45deg);
          }
        }

        input[type="checkbox"] {
          position: absolute;
          cursor: pointer;
          width: 100%;
          height: 100%;
          z-index: 1;
          opacity: 0;

          &:checked {
            & ~ div {
              margin-top: 0;
              max-height: 0;
              opacity: 0;
              transform: translate(0, 50%);
            }

            & ~ i {
              &::before {
                transform: translate(2px, 0) rotate(45deg);
              }
              &::after {
                transform: translate(-2px, 0) rotate(-45deg);
              }
            }
          }
        }
      }
    }

    @keyframes flipdown {
      0% {
        opacity: 0;
        transform: rotateX(-90deg);
      }
      5% {
        opacity: 1;
      }
      80% {
        transform: rotateX(8deg);
      }
      83% {
        transform: rotateX(6deg);
      }
      92% {
        transform: rotateX(-3deg);
      }
      100% {
        transform: rotateX(0deg);
      }
    }
    .map-wrapper {
      max-width: 1280px;
      margin: 0 auto 60px auto;
      padding: clamp(1rem, 0.8rem + 1vw, 4rem);
      img {
        width: 100%;
        height: auto;
      }
    }

    .header__title-desc {
      margin-bottom: 8rem;
      padding: 0 clamp(1rem, 0.8rem + 1vw, 2rem);
      img {
        width: 75%;
        @include mobile {
          width: 100%;
        }
        height: auto;
        margin: 0 auto;
        display: block;
      }
    }
    .flex {
      display: flex;
      flex-wrap: wrap;
      gap: 4rem;
      @include mobile {
        flex-direction: column;
        gap: 2rem;
      }

      .flex__item {
        flex: 1;
        position: relative;

        img:nth-of-type(1) {
          width: 100%;
          height: auto;
        }
        img:nth-of-type(2) {
          width: 100%;
          height: auto;
        }

        p {
          font-size: clamp(0.875rem, 0.667rem + 1.04vw, 4rem);
          line-height: 1.5;
          margin: 0;
          color: #fff;
          padding: clamp(1rem, 0.8rem + 1vw, 2rem);
          border-radius: 16px;
        }
      }
    }
    @font-face {
      font-family: "lanove";
      src: url("/fonts/lanove.woff") format("woff");
    }

    .lanove {
      font-family: lanove;
    }

    .inline {
      display: flex;
      flex-direction: column;
      * {
        flex: 1;
      }
    }

    .desc {
      background-color: #510102;
      padding: 2rem 0;
      border-radius: 16px 16px 0 0;
      width: 60%;
      @include mobile {
        width: 100%;
      }
      color: #fff;
      margin: 0 auto 0;
      text-align: center;

      h3 {
        font-size: clamp(1.5rem, 1.267rem + 1.17vw, 5rem);
        margin: 0;
      }
      p {
        font-size: clamp(0.875rem, 0.667rem + 1.04vw, 4rem);
        line-height: 1.5;
        margin: 0;
      }
    }

    .border {
      border: 15px solid #510102;
      border-radius: 24px;
      padding: clamp(1rem, 0.6rem + 2vw, 4rem);
      display: flex;
      flex-direction: column;
      gap: 4rem;
      margin-bottom: 120px;
      @include mobile {
        border-radius: 0 0 24px 24px;
      }
    }
    .blue {
      background-color: var(--blue);
    }
    .green {
      background-color: var(--green);
    }
    .orange {
      background-color: var(--orange);
    }
    .beige {
      background-color: var(--beige);
    }
    .pink {
      background-color: var(--pink);
    }
    .red {
      background-color: var(--red);
    }
    .food__title {
      width: 100%;
      height: auto;
      margin-bottom: 2rem;
    }

    .food__title img {
      width: 100%;
      height: auto;
    }
  </style>

  <script>
    // すべてのチェックボックスにイベントリスナーを追加
    document.querySelectorAll(".toggleCheckbox").forEach(function (checkbox) {
      checkbox.addEventListener("change", function (event) {
        // すべてのターゲット要素を非表示にする
        document.querySelectorAll(".toggleCheckbox").forEach(function (cb) {
          const targetId = cb.getAttribute("data-target");
          const targetElement = document.getElementById(targetId);
          if (targetElement) {
            targetElement.style.display = "none";
          }
        });

        // data-target 属性で指定された要素のIDを取得
        const targetId = this.getAttribute("data-target");
        const targetElement = document.getElementById(targetId);

        // クリックされたチェックボックスのターゲット要素を表示
        if (targetElement) {
          targetElement.style.display = "block";
        }

        // イベントのバブリングを停止
        event.stopPropagation();
      });
    });

    // 要素外をクリックしたときにすべてのターゲット要素を非表示にする
    document.addEventListener("click", function () {
      document.querySelectorAll(".toggleCheckbox").forEach(function (cb) {
        const targetId = cb.getAttribute("data-target");
        const targetElement = document.getElementById(targetId);
        if (targetElement) {
          targetElement.style.display = "none";
        }
      });
    });
  </script>
</Layout>
